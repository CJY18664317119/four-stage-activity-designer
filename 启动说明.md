# 四阶段活动设计器 - 前后端启动说明

## 项目结构

```
5/
├── 前端/          # Vue 3 前端项目
│   ├── src/
│   │   ├── pages/activity.vue          # 主页面
│   │   ├── components/                  # 组件目录
│   │   │   ├── ProblemOrientation.vue  # 问题定向组件
│   │   │   ├── PrincipleExploration.vue # 原理探究组件
│   │   │   ├── EngineeringPractice.vue # 工程实践组件
│   │   │   ├── ProductPresentation.vue # 产品展示组件
│   │   │   └── PhaseContent.vue        # 阶段内容组件
│   │   └── utils/api.js                # API服务文件
│   └── package.json
├── 后端/          # Flask 后端项目
│   ├── app.py                          # 主应用文件
│   ├── SQLHandler.py                   # 数据库处理
│   ├── config.sql                      # 数据库配置
│   └── requirements.txt                # Python依赖
└── 启动说明.md
```

## 启动步骤

### 1. 启动后端服务

```bash
# 进入后端目录
cd 5/后端

# 安装Python依赖
pip install -r requirements.txt

# 启动Flask服务
python app.py
```

后端服务将在 `http://localhost:5000` 启动

### 2. 启动前端服务

```bash
# 进入前端目录
cd 5/前端

# 安装Node.js依赖
npm install

# 启动开发服务器
npm run dev
```

前端服务将在 `http://localhost:5173` 启动

### 3. 数据库配置

确保MySQL数据库已启动，并创建数据库：

```sql
CREATE DATABASE zhengning_db;
```

然后执行 `5/后端/config.sql` 中的建表语句。

## 功能说明

### 四阶段活动设计器功能

1. **问题定向阶段**
   - 情境描述
   - 利益相关者识别
   - 有利因素分析
   - 约束因素分析

2. **原理探究阶段**
   - 学习目标设定
   - 材料准备
   - 实验步骤
   - 记录总结

3. **工程实践阶段**
   - 知识分析
   - 应用映射
   - 场景应用
   - 难点分析

4. **产品展示阶段**
   - 产品标题
   - 产品介绍
   - 产品图片上传
   - 产品视频上传

### API接口

- `POST /problem-orientation` - 保存问题定向数据
- `GET /problem-orientation/list` - 获取问题定向数据列表
- `POST /Principle-exploration` - 保存原理探究数据
- `GET /Principle-exploration/list` - 获取原理探究数据列表
- `POST /engineering-practice` - 保存工程实践数据
- `GET /engineering-practice/list` - 获取工程实践数据列表
- `POST /Product-Display` - 保存产品展示数据（支持文件上传）
- `GET /Product-Display/list` - 获取产品展示数据列表
- `GET /file` - 获取上传的文件

## 使用说明

1. 打开浏览器访问 `http://localhost:5173`
2. 导航到四阶段活动设计器页面
3. 在各个阶段中填写相应的内容
4. 点击"保存"按钮保存数据到后端
5. 点击"加载"按钮从后端加载已保存的数据

## 注意事项

1. 确保后端服务在5000端口运行
2. 确保前端服务在5173端口运行
3. 确保MySQL数据库正常运行
4. 文件上传功能需要确保后端File目录有写入权限

## 故障排除

### 常见问题

1. **CORS错误**
   - 确保后端已启用CORS支持
   - 检查前端API_BASE_URL配置

2. **数据库连接错误**
   - 检查MySQL服务是否启动
   - 检查数据库配置信息

3. **文件上传失败**
   - 检查后端File目录权限
   - 检查文件大小限制

4. **前端页面无法访问**
   - 检查Node.js和npm是否正确安装
   - 检查端口是否被占用

## 开发说明

### 前端开发
- 使用Vue 3 Composition API
- 使用Tailwind CSS样式
- 使用Vite构建工具

### 后端开发
- 使用Flask框架
- 使用PyMySQL连接数据库
- 支持文件上传功能

### 数据流程
1. 前端组件收集表单数据
2. 通过API发送到后端
3. 后端保存到MySQL数据库
4. 前端可以加载已保存的数据 